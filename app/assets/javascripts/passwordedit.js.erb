$(document).ready(function() { 
  $('.edit-pw .submit').on('click', function(event) {
    var password = $('.edit-pw .inputs #user_password');
    var password_confirmation = $(".edit-pw .inputs #user_password_confirmation");

    if ( !isValidPassword(password.val().trim()) ) { 
      password.val('');
      password_confirmation.val('');
      password.focus();

      $('.edit-pw-error').fadeIn(300).text('비밀번호는 4글자 이상, 숫자를 포함해야합니다.');
      return false;
    } else if( password.val().trim() != password_confirmation.val().trim() ) {
      password.val('');
      password_confirmation.val('');
      password.focus();
      $('.edit-pw-error').fadeIn(300).text('비밀번호와 비밀번호확인이 일치하지 않습니다.');

      return false;
    }

  });
});

function isValidPassword(password) {
  var regexPw = /^(?=.*[a-z])(?=.*[0-9]).{4,30}$/;
  return regexPw.test($.trim(password));
}